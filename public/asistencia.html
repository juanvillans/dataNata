<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="manifest" href="manifest.json" />
    <!-- Theme style -->
    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
    <meta name="theme-color" content="#ffffff" />
    <link rel="stylesheet" href="stylesheets/asistencia.css" />
    <title>Asistencia</title>
  </head>

  <body>
    <script>
      const data = localStorage.getItem("data");
      if (!data) {
          window.location.href = "/home"
      }
    </script>
    <!-- Content Wrapper. Contains page content -->
    
    <!-- Content Header (Page header) -->
    <!-- <header class="content-header">
      
    </header> -->
    <header>
      <img class="logo-img" src="img/Attend-app512x512.png" alt="">
      <div class="icons_buttons">
        <svg class="success_cloud" xmlns="http://www.w3.org/2000/svg" width="48" height="48" id="cloud"><path fill="none" d="M0 0h48v48H0z"></path><path fill="#888888" d="M38.71 20.07C37.35 13.19 31.28 8 24 8c-5.78 0-10.79 3.28-13.3 8.07C4.69 16.72 0 21.81 0 28c0 6.63 5.37 12 12 12h26c5.52 0 10-4.48 10-10 0-5.28-4.11-9.56-9.29-9.93zM20 34l-7-7 2.83-2.83L20 28.34l10.35-10.35 2.83 2.83L20 34z"></path></svg>
        <svg class="upload_cloud hidden" title="Subir cambios a la nube" hidden" xmlns="http://www.w3.org/2000/svg" width="48" height="48" id="cloud"><path class="svg_upload" fill="none" d="M0 0h48v48H0z"></path><path class="svg_upload" d="M38.71 20.07C37.35 13.19 31.28 8 24 8c-5.78 0-10.79 3.28-13.3 8.07C4.69 16.72 0 21.81 0 28c0 6.63 5.37 12 12 12h26c5.52 0 10-4.48 10-10 0-5.28-4.11-9.56-9.29-9.93zM28 26v8h-8v-8h-6l10-10 10 10h-6z"></path></svg>
        <span class="hidden" id="loading">Cargando...</span>
        <span class="userBtn" id="userBtn">
          
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" id="user" class="userBtn"><path fill="#000" d="M12 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm0 2a9.985 9.985 0 0 0-8 4 9.985 9.985 0 0 0 8 4 9.985 9.985 0 0 0 8-4 9.985 9.985 0 0 0-8-4z" class="userBtn"></path></svg>
          <div class="user_modal">
            <p id="userName"></p>
            <button id="logOut">Cerrar sesión</button>
          </div>
        </span>
      </div>
    </header>
    <!-- Main content -->
    <div class="container">
      <main>
        <div class="content table_container">
          <div class="intro_table">
            <div class="select_area_parent">
              <label
                >Materia / Area:
                <select id="select_area">
                  <option id="newSubjectOption" value="newSubjectOption">
                    Nuevo +
                  </option>

                  <template id="template_option">
                    <option value=""></option>
                  </template>
                </select>
              </label>
              <button class="edit_subject_button" title="Cambiar nombre">
                <?xml class="edit_subject_button" version="1.0" ?><svg
                  class="edit_subject_button"
                  class="feather feather-edit"
                  fill="none"
                  height="24"
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  viewBox="0 0 24 24"
                  width="24"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    class="edit_subject_button"
                    d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"
                  />
                  <path
                    class="edit_subject_button"
                    d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"
                  />
                </svg>
              </button>
              <button id="delete_subject_button" class="delete_subject_button" title="Eliminar materia">
                <?xml version="1.0" ?><svg
                  height="24"
                  viewBox="0 0 24 24"
                  width="24"
                  class="delete_subject_button"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path class="delete_subject_button"
                    d="M12,13.5857864 L14.2928932,11.2928932 L15.7071068,12.7071068 L13.4142136,15 L15.7071068,17.2928932 L14.2928932,18.7071068 L12,16.4142136 L9.70710678,18.7071068 L8.29289322,17.2928932 L10.5857864,15 L8.29289322,12.7071068 L9.70710678,11.2928932 L12,13.5857864 Z M7,4 L7,3 C7,1.8954305 7.8954305,1 9,1 L15,1 C16.1045695,1 17,1.8954305 17,3 L17,4 L20,4 C21.1045695,4 22,4.8954305 22,6 L22,8 C22,9.1045695 21.1045695,10 20,10 L19.9198662,10 L19,21 C19,22.1045695 18.1045695,23 17,23 L7,23 C5.8954305,23 5,22.1045695 5.00345424,21.0830455 L4.07986712,10 L4,10 C2.8954305,10 2,9.1045695 2,8 L2,6 C2,4.8954305 2.8954305,4 4,4 L7,4 Z M7,6 L4,6 L4,8 L20,8 L20,6 L17,6 L7,6 Z M6.08648886,10 L7,21 L17,21 L17.0034542,20.9169545 L17.9132005,10 L6.08648886,10 Z M15,4 L15,3 L9,3 L9,4 L15,4 Z"
                    fill-rule="evenodd"
                  />
                </svg>
              </button>
            </div>

            <span class="text-center parent_n_classes">
              <label for="input_n_classes"
                ><p><b>Nro. de clases</b></p></label
              >
              <span class="n_classes_cont">
                <button id="removeClass" class="btn_submit" title="Nueva clase">
                  -
                </button>
                <input
                  type="number"
                  value="13"
                  class="p-1 ml-2 form-control"
                  id="input_n_classes"
                  max="100"
                  min="1"
                  aria-labelledby="fullNamenroClases"
                  required
                />

                <button id="addClass" class="btn_submit" title="Nueva clase">
                  +
                </button>
              </span>
            </span>

            <div class="history_arrows_cont">
              <button
                title="revertir cambio"
                class="disabled fa-solid history_arrows past fa-arrow-rotate-left"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                >
                  <path
                    d="M13.427 3.021h-7.427v-3.021l-6 5.39 6 5.61v-3h7.427c3.071 0 5.561 2.356 5.561 5.427 0 3.071-2.489 5.573-5.561 5.573h-7.427v5h7.427c5.84 0 10.573-4.734 10.573-10.573s-4.733-10.406-10.573-10.406z"
                  />
                </svg></button
              ><button
                title="volver al cambio"
                class="fa-solid history_arrows future fa-arrow-rotate-right disabled"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                >
                  <path
                    d="M10.573 3.021h7.427v-3.021l6 5.39-6 5.61v-3h-7.427c-3.071 0-5.561 2.356-5.561 5.427 0 3.071 2.489 5.573 5.561 5.573h7.427v5h-7.427c-5.84 0-10.573-4.734-10.573-10.573s4.733-10.406 10.573-10.406z"
                  />
                </svg>
              </button>
            </div>
            <!-- <span class="parent_btn_submit">
                        <input
                          type="submit"
                          title="Ctrl + s"
                          name=""
                          value="GUARDAR"
                          class="btn_submit mt-0"
                        />
                      </span> -->
          </div>
          <!-- /. -->

          <table class="asist_table">
            <thead>
              <tr class="tr_class_numbers"></tr>
            </thead>
            <tbody>
              <template id="template_tr">
                <tr>
                  <td class="td_student_name">
                    <button
                      class="delete_student_btn"
                      title="Eliminar Estudiante"
                    >
                      x
                    </button>
                    <span class="each_student_number">1</span>.
                    <input
                      type="text"
                      class="student_name_input"
                      name=""
                      placeholder="Nombre del estudiante"
                      id=""
                      value=""
                      aria-labelledby="fullName"
                    />
                  </td>

                  <td class="each_total">0%</td>
                </tr>
              </template>
            </tbody>
          </table>

          <!-- /.card-body -->
        </div>
        <!-- /.row -->
        <template id="template_th_student">
          <th class="th_students">
            <span> Estudiantes (<span id="th_nro_students">0</span>) </span>
            <span class="d-flex">
              <span class="parent_btn_submit">
                <button
                  id="create_student_btn"
                  class="btn_submit"
                  title="Añadir nuevo estudiante"
                >
                  +
                </button>
              </span>
              <button
                id="import_students"
                title="Importar nombre de los estudiantes"
              >
                <svg
                  id="import_students"
                  width="16"
                  height="20"
                  viewBox="0 0 16 20"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M13.875 6.32812L8 13.6717"
                    stroke="white"
                    stroke-width="3"
                    stroke-miterlimit="10"
                    stroke-linecap="square"
                  />
                  <path
                    d="M8 13.6717L2.125 6.32812"
                    stroke="white"
                    stroke-width="3"
                    stroke-miterlimit="10"
                    stroke-linecap="square"
                  />
                </svg>
              </button>

              <div class="import_student_modal hidden">
                <h4>Importar estudiantes de:</h4>
                <ul>
                  
                </ul>
              </div>
            </span>
          </th>
        </template>

        <template id="template_th">
          <th class="th_each_colunm">
            <label title="marcar toda la columna 1 ">
              <span class="text"></span>
              <input type="checkbox" class="marcar_col_input" name="" />
            </label>
          </th>
        </template>

        <template id="template_th_total">
          <th class="th_total">Total</th>
        </template>

        <template id="template_td">
          <td class="each_cell"></td>
        </template>
      </main>
    </div>

    <script>
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker
            .register("service-worker.js")
            .then((registration) => {
              console.log("Service Worker registrado con éxito:", registration);
            })
            .catch((error) => {
              console.error("Error al registrar el Service Worker:", error);
            });
        });
      }
    </script>
    <script type="module" src="javascripts/asistencia.js"></script>
  </body>
</html>
